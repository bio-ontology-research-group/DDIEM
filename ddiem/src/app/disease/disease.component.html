<app-disease-search [diseaseList]="diseaseList" (selectedDisease)="onDiseaseSelect($event)"></app-disease-search>
<div class="container p-1 shadow-base mt-3" flex="90">

  <div class="m-3 bd-content">
  <div class="row">
  <div class="col-md-8"> 
  <div class="row">
    <div class="col-md-3">
      <strong>Disease name:</strong>
    </div>
    <div class="col-md-9">
      {{d()['ddiem:has_disease_name'][0]['@value']}}
    </div>
  </div>
  <div class="row">
    <div class="col-md-3">
      <strong>Gene affected:</strong>
    </div>
    <div class="col-md-9">
      <button type="button" class="btn btn-link p-0" (click)="openInNewTab(gene()['ddiem:gene_id'][0]['@id'])">{{gene()['ddiem:has_name'][0]['@value']}}</button>
    </div>
  </div>
  <div class="row">
    <div class="col-md-3">
      <strong>Enzyme/ protein affected:</strong>
    </div>
    <div class="col-md-9">
    </div>
  </div>
  <div class="row">
    <div class="col-md-3">
      <strong>EC number:</strong>
    </div>
    <div class="col-md-9">
        {{ec_number()}}
    </div>
  </div>
  </div>
  <div class="col-4">
    <div class="row">
      <div class="col-md-12">
        <strong>Treatment Types:</strong>
      </div>
      <div class="col-md-12">
        <ul>
          <li *ngFor="let regimenType of regimenTypes">{{regimenType}}</li>
        </ul>
      </div>
    </div>
  </div>
  </div>
  </div>
</div>
<div class="container p-1 shadow-base mt-3" flex="90">

    <div class="col-11 m-3 bd-content">
      <div class="row">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th scope="col">Drug Names</th>
              <th scope="col">Phenotypes Corrected</th>
              <th scope="col">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let ds of datasets">
              <td style="width: 30%;"><span *ngFor="let drug of ds?.drugs; let index = index">{{drug['ddiem:has_name'][0]['@value']}} </span></td>
              <td style="width: 40%;">{{phenotype(ds)}}</td>
              <td style="width: 30%;"><button type="button" class="btn btn-link p-0" (click)="openPubmedRef(reference(ds))">{{reference(ds) | ellipsis:50}}</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
